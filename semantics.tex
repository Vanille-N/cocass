\input{header.tex}

\newcommand{\Cpm}{C\(\pm\pm\)}
\newcommand{\Cmm}{C\textminus\textminus}

\title{Semantics of \Cpm (i.e. extended \Cmm)}
\author{\textsc{Villani} Neven, ENS Paris-Saclay\\\textsc{Programmation 1 -- Compilateur COCass}}

\begin{document}
\maketitle

Retranscribed and extended from \url{http://www.lsv.fr/~goubault/CoursProgrammation/minic.html}\\
and \url{http://www.lsv.fr/~goubault/CoursProgrammation/prog1_sem1.pdf}.\\

Let \(\rho\) be the environment, \(\mu\) the function that gives the contents of each memory address.\\

\section{Expressions}
\subsection{Reading values}

For local and global variables:
\[\dfrac{x\in\dom\rho \qquad \rho(x)\in\dom\mu}{\envyields \t{VAR}\ x\tto \mu(\rho(x)), \mu}\]
i.e. reading a variable returns its contents and changes nothing to the memory.\\

For constant integers:
\[\dfrac{}{\envyields \t{CST}\ n\tto n, \mu}\]

For strings:
\[\dfrac{s\text{ stored at }a\in Addr}{\envyields \t{STRING}\ s\tto a, \mu}\]

For arrays:
\[\dfrac{t\in\dom\rho \qquad \envyields e\tto i,\mu' \qquad (\rho(t)+i\times 8)\modsize\in\dom\mu}{\envyields \t{OP2}(\t{S\_INDEX}, t, e) \tto \mu'(\rho(t)+i\times 8 \modsize)}\]

None of these are different from the original \Cmm semantics.

\subsection{Unary operators without side-effects}
Unary minus (same as \Cmm):
\[\dfrac{\envyields e \tto v,\mu'}{\envyields \t{OP1}(\t{M\_MINUS}, e) \tto -v \modsize,\mu'}\]

Unary bitwise negation (same as \Cmm):
\[\dfrac{\envyields e\tto v,\mu'}{\envyields \t{OP1}(\t{M\_NOT}, e) \tto -v-1 \modsize,\mu'}\]

\end{document}
